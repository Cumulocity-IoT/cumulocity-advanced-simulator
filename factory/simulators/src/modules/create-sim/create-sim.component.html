<div class="col-lg-6">
  <app-sim-settings [header]="addseries" [isExpanded]="true"></app-sim-settings>
  <div *ngFor="let first of measurementSeries; let i = index">
    <app-sim-settings
      [header]="addedSeries"
      [measurement]="first"
      [isExpanded]="first.active"
    ></app-sim-settings>
  </div>

  <div class="col-sm-8">
    <br />
    <button
      class="btn btn-success"
      style="float: right"
      (click)="generateRequest()"
    >
      Generate Instructions
    </button>
  </div>
</div>

<div class="col-lg-6">
  <app-show-instruction
    [mo]="mo"
    (currentViewState)="updateViewState($event)"
  ></app-show-instruction>
  <app-edit-instruction
    [mo]="mo"
    [editedVal]="editedVal"
    *ngIf="this.displayEditView"
  ></app-edit-instruction>
</div>

<ng-template #addedSeries let-measurement="measurement"
  ><div style="display: flex">
    <h4>Added Series</h4>
    &nbsp; <em>{{ measurement.fragment }}</em
    >&nbsp;
    <button
      class="transparent"
      (click)="measurement.active=!measurement.active"
      [attr.aria-expanded]="measurement.active"
      aria-controls="collapseBasic"
    >
      <i c8yIcon="caret-down"></i>
    </button>

    <div
      id="collapseBasic"
      class="collapse"
      [collapse]="!measurement.active"
      [isAnimated]="true"
    ></div></div
></ng-template>
<ng-template #addseries><h4>Add Series</h4></ng-template>
