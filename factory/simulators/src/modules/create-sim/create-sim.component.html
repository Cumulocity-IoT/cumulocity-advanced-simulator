<c8y-action-bar-item [placement]="'right'" [itemClass]="'btn-group'">
  <div class="btn-group" role="group" *ngFor="let item of actionButtons">
    <button
      type="button"
      [ngClass]="currentSelection === item ? 'btn btn-primary' : 'btn btn-default'"
      (click)="selectButton(item)"
    >
    {{item}}
    </button>
  </div>
</c8y-action-bar-item>
<div class="col-lg-6">
  <div class="settings">
    <app-sim-settings
      *ngIf="viewNewSeries"
      [header]="addseries"
      [isExpanded]="true"
    ></app-sim-settings>
    <ng-container *ngIf="!viewNewSeries">
      <div *ngFor="let first of measurementSeries; let i = index">
        <app-sim-settings
          [header]="addedSeries"
          [series]="first"
          [isExpanded]="first.active"
        ></app-sim-settings>
      </div>
    </ng-container>
    <ng-container *ngIf="!viewNewSeries">
      <div *ngFor="let first of alarmSeries; let i = index">
        <app-sim-settings
          [header]="addedSeries"
          [alarm]="first"
          [isExpanded]="first.active"
        ></app-sim-settings>
      </div>
    </ng-container>
  </div>
  <div class="col-sm-8">
    <br />
    <button
      class="btn btn-success"
      style="float: right; top: 0; z-index: 2; position: sticky"
      (click)="generateRequest()"
    >
      Generate Instructions
    </button>
  </div>
</div>

<div class="col-lg-6">
  <app-show-instruction
    [mo]="mo"
    [commandQueue]="commandQueue"
    (currentViewState)="updateViewState($event)"
  ></app-show-instruction>
  <app-edit-instruction
    [mo]="mo"
    [editedVal]="editedVal"
    *ngIf="this.displayEditView"
  ></app-edit-instruction>
</div>

<ng-template #addedSeries let-item="item"
  ><div style="display: flex">
    <ng-container *ngIf="item.fragment && item.series"><h4>Measurement Series</h4>
    &nbsp; <em>{{ item.fragment }}</em
    >&nbsp; &nbsp; <em>{{ item.series }}</em
    >&nbsp; &nbsp; <em>{{ item.unit }}</em
    >&nbsp;</ng-container>

    <ng-container *ngIf="item.alarmText && item.alarmType"><h4>Alarm Series</h4>
      &nbsp; <em>{{ item.alarmType }}</em
      >&nbsp; &nbsp; <em>{{ item.alarmText }}</em
      >&nbsp;</ng-container>

      <ng-container *ngIf="item.eventType && item.eventText"><h4>Event Series</h4>
        &nbsp; <em>{{ item.eventType }}</em
        >&nbsp; &nbsp; <em>{{ item.eventText }}</em
        >&nbsp;</ng-container>
    <button
      class="transparent"
      (click)="item.active = !item.active"
      [attr.aria-expanded]="item.active"
      aria-controls="collapseBasic"
    >
      <i c8yIcon="caret-down"></i>
    </button>

    <div
      id="collapseBasic"
      class="collapse"
      [collapse]="!item.active"
      [isAnimated]="true"
    ></div></div
></ng-template>
<ng-template #addseries><h4>Add Series</h4></ng-template>
